{
    "name": "ahma_quality_check",
    "description": "Comprehensive quality pipeline for the ahma_mcp project: generate schema, validate tools, format, lint with auto-fix, test, and build. This is project-specific and includes ahma_mcp schema generation and validation steps. For generic Rust projects, use cargo qualitycheck instead.",
    "command": "sequence",
    "enabled": true,
    "timeout_seconds": 1800,
    "force_synchronous": true,
    "sequence": [
        {
            "tool": "cargo",
            "subcommand": "run",
            "description": "Generate the MTDF schema to ensure it's up-to-date.",
            "args": {
                "bin": "generate_tool_schema",
                "package": "generate_tool_schema"
            }
        },
        {
            "tool": "cargo",
            "subcommand": "run",
            "description": "Validate all tool configurations against the latest schema.",
            "args": {
                "bin": "ahma_validate",
                "package": "ahma_validate"
            }
        },
        {
            "tool": "cargo",
            "subcommand": "fmt",
            "description": "Format code using rustfmt.",
            "args": {
                "all": true
            }
        },
        {
            "tool": "cargo",
            "subcommand": "clippy",
            "description": "Lint code and automatically fix issues.",
            "args": {
                "fix": true,
                "allow-dirty": true,
                "workspace": true
            }
        },
        {
            "tool": "cargo",
            "subcommand": "clippy",
            "description": "Lint tests and automatically fix issues.",
            "args": {
                "fix": true,
                "tests": true,
                "allow-dirty": true,
                "workspace": true
            }
        },
        {
            "tool": "cargo",
            "subcommand": "nextest_run",
            "description": "Run the test suite using nextest.",
            "args": {
                "workspace": true
            }
        },
        {
            "tool": "cargo",
            "subcommand": "build",
            "description": "Compile the entire workspace.",
            "args": {
                "workspace": true
            }
        }
    ],
    "step_delay_ms": 500
}