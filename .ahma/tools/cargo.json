{
    "name": "cargo",
    "description": "Rust's build tool and package manager",
    "command": "cargo",
    "enabled": true,
    "timeout_seconds": 600,
    "synchronous": true,
    "subcommand": [
        {
            "name": "build",
            "description": "Compile the current package.",
            "options": [
                {
                    "name": "release",
                    "type": "boolean",
                    "description": "Build artifacts in release mode, with optimizations"
                },
                {
                    "name": "workspace",
                    "type": "boolean",
                    "description": "Build all packages in the workspace"
                },
                {
                    "name": "bin",
                    "type": "string",
                    "description": "Build only the specified binary"
                }
            ]
        },
        {
            "name": "run",
            "description": "Run a binary or example of the local package.",
            "options": [
                {
                    "name": "release",
                    "type": "boolean",
                    "description": "Run with optimizations (--release)"
                },
                {
                    "name": "bin",
                    "type": "string",
                    "description": "Name of the binary to run"
                }
            ]
        },
        {
            "name": "test",
            "description": "Run the test suite.",
            "options": [
                {
                    "name": "workspace",
                    "type": "boolean",
                    "description": "Test all packages in the workspace"
                }
            ]
        },
        {
            "name": "fmt",
            "synchronous": true,
            "description": "Format code using rustfmt.",
            "options": [
                {
                    "name": "all",
                    "type": "boolean",
                    "description": "Format all packages in the workspace"
                }
            ]
        },
        {
            "name": "clippy",
            "synchronous": true,
            "description": "Enhanced linting and code quality checks.",
            "options": [
                {
                    "name": "fix",
                    "type": "boolean",
                    "description": "Automatically fix warnings"
                },
                {
                    "name": "allow-dirty",
                    "type": "boolean",
                    "description": "Allow fixing when working directory is dirty"
                },
                {
                    "name": "tests",
                    "type": "boolean",
                    "description": "Run clippy on tests as well"
                },
                {
                    "name": "workspace",
                    "type": "boolean",
                    "description": "Run on all packages in the workspace"
                }
            ],
            "availability_check": {
                "command": "cargo",
                "args": [
                    "clippy",
                    "--version"
                ],
                "skip_subcommand_args": true
            },
            "install_instructions": "Install with `rustup component add clippy`."
        },
        {
            "name": "nextest",
            "description": "Run tests using cargo nextest.",
            "install_instructions": "Install with `cargo install cargo-nextest`.",
            "subcommand": [
                {
                    "name": "run",
                    "description": "Run tests using nextest.",
                    "options": [
                        {
                            "name": "workspace",
                            "type": "boolean",
                            "description": "Run tests for all packages in workspace"
                        }
                    ],
                    "availability_check": {
                        "command": "cargo",
                        "args": [
                            "nextest",
                            "--version"
                        ],
                        "skip_subcommand_args": true
                    },
                    "install_instructions": "Install with `cargo install cargo-nextest` and ensure it is on PATH."
                }
            ]
        }
    ]
}