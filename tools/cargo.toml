# Cargo Tool Configuration for Ahma MCP
name = "cargo"
description = "Rust's build tool and package manager"
command = "cargo"
enabled = true
timeout_seconds = 600

[hints]
default = "While cargo operations run, consider reviewing Cargo.toml dependencies, planning tests, or analyzing code structure for optimization opportunities."
build = "Building in progress - review compilation output for warnings, plan deployment steps, or work on documentation."
test = "Tests running - analyze test patterns, consider additional test cases, or review code coverage strategies."
doc = "Documentation building - consider reviewing doc comments, planning API improvements, or working on examples."
check = "Type checking in progress - plan refactoring opportunities or review code patterns while waiting."

# JSON Schema for the tool input parameters  
[input_schema]
type = "object"
properties = {}

# Build project (async by default)
[[subcommand]]
name = "build"
description = """Compile the current package.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""

[[subcommand.options]]
name = "future-incompat-report"
type = "boolean"
description = "Outputs a future incompatibility report at the end of the build"

[[subcommand.options]]
name = "message-format"
type = "string"
description = "Error format [possible values: human, short, json, json-diagnostic-short, json-diagnostic-rendered-ansi, json-render-diagnostics]"

[[subcommand.options]]
name = "verbose"
type = "integer"
description = "Use verbose output (-vv very verbose/build.rs output)"

[[subcommand.options]]
name = "quiet"
type = "boolean"
description = "Do not print cargo log messages"

[[subcommand.options]]
name = "color"
type = "string"
description = "Coloring [possible values: auto, always, never]"

[[subcommand.options]]
name = "config"
type = "string"
description = "Override a configuration value (KEY=VALUE or PATH)"

[[subcommand.options]]
name = "unstable"
type = "string"
description = "Unstable (nightly-only) flags to Cargo (use 'cargo -Z help' for details)"

# Package selection
[[subcommand.options]]
name = "package"
type = "string"
description = "Package to build (see `cargo help pkgid`)"

[[subcommand.options]]
name = "workspace"
type = "boolean"
description = "Build all packages in the workspace"

[[subcommand.options]]
name = "exclude"
type = "array"
description = "Exclude packages from the build (can be specified multiple times)"

[[subcommand.options]]
name = "all"
type = "boolean"
description = "Alias for --workspace (deprecated)"

# Target selection
[[subcommand.options]]
name = "lib"
type = "boolean"
description = "Build only this package's library"

[[subcommand.options]]
name = "bins"
type = "boolean"
description = "Build all binaries"

[[subcommand.options]]
name = "bin"
type = "string"
description = "Build only the specified binary"

[[subcommand.options]]
name = "examples"
type = "boolean"
description = "Build all examples"

[[subcommand.options]]
name = "example"
type = "string"
description = "Build only the specified example"

[[subcommand.options]]
name = "tests"
type = "boolean"
description = "Build all targets that have `test = true` set"

[[subcommand.options]]
name = "test"
type = "string"
description = "Build only the specified test target"

[[subcommand.options]]
name = "benches"
type = "boolean"
description = "Build all targets that have `bench = true` set"

[[subcommand.options]]
name = "bench"
type = "string"
description = "Build only the specified bench target"

[[subcommand.options]]
name = "all-targets"
type = "boolean"
description = "Build all targets"

# Feature selection
[[subcommand.options]]
name = "features"
type = "string"
description = "Space or comma separated list of features to activate"

[[subcommand.options]]
name = "all-features"
type = "boolean"
description = "Activate all available features"

[[subcommand.options]]
name = "no-default-features"
type = "boolean"
description = "Do not activate the `default` feature"

# Compilation options
[[subcommand.options]]
name = "release"
type = "boolean"
description = "Build artifacts in release mode, with optimizations"

[[subcommand.options]]
name = "profile"
type = "string"
description = "Build artifacts with the specified profile"

[[subcommand.options]]
name = "jobs"
type = "integer"
description = "Number of parallel jobs, defaults to # of CPUs (-j, --jobs <N>)"

[[subcommand.options]]
name = "keep-going"
type = "boolean"
description = "Do not abort the build as soon as there is an error"

[[subcommand.options]]
name = "target"
type = "string"
description = "Build for the target triple (can be specified multiple times)"

[[subcommand.options]]
name = "target-dir"
type = "string"
description = "Directory for all generated artifacts"

[[subcommand.options]]
name = "artifact-dir"
type = "string"
description = "Copy final artifacts to this directory (unstable)"

[[subcommand.options]]
name = "build-plan"
type = "boolean"
description = "Output the build plan in JSON (unstable)"

[[subcommand.options]]
name = "unit-graph"
type = "boolean"
description = "Output build graph in JSON (unstable)"

[[subcommand.options]]
name = "timings"
type = "string"
description = "Timing output formats (unstable) (comma separated): html, json"

# Manifest options
[[subcommand.options]]
name = "manifest-path"
type = "string"
description = "Path to Cargo.toml"

[[subcommand.options]]
name = "lockfile-path"
type = "string"
description = "Path to Cargo.lock (unstable)"

[[subcommand.options]]
name = "ignore-rust-version"
type = "boolean"
description = "Ignore `rust-version` specification in packages"

[[subcommand.options]]
name = "locked"
type = "boolean"
description = "Assert that `Cargo.lock` will remain unchanged"

[[subcommand.options]]
name = "offline"
type = "boolean"
description = "Run without accessing the network"

[[subcommand.options]]
name = "frozen"
type = "boolean"
description = "Equivalent to specifying both --locked and --offline"

[[subcommand]]
name = "test"
description = """Run the test suite.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""

[[subcommand.options]]
name = "testname"
type = "string"
description = "If specified, only run tests containing this string in their names (positional argument)"

[[subcommand.options]]
name = "args"
type = "array"
description = "Arguments for the test binary (use after '--')"

[[subcommand.options]]
name = "no-run"
type = "boolean"
description = "Compile, but don't run tests"

[[subcommand.options]]
name = "no-fail-fast"
type = "boolean"
description = "Run all tests regardless of failure"

[[subcommand.options]]
name = "future-incompat-report"
type = "boolean"
description = "Outputs a future incompatibility report at the end of the build"

[[subcommand.options]]
name = "message-format"
type = "string"
description = "Error format [possible values: human, short, json, json-diagnostic-short, json-diagnostic-rendered-ansi, json-render-diagnostics]"

[[subcommand.options]]
name = "quiet"
type = "boolean"
description = "Display one character per test instead of one line"

[[subcommand.options]]
name = "verbose"
type = "integer"
description = "Use verbose output (-vv very verbose/build.rs output)"

[[subcommand.options]]
name = "color"
type = "string"
description = "Coloring [possible values: auto, always, never]"

[[subcommand.options]]
name = "config"
type = "string"
description = "Override a configuration value (KEY=VALUE or PATH)"

[[subcommand.options]]
name = "unstable"
type = "string"
description = "Unstable (nightly-only) flags to Cargo, see 'cargo -Z help' for details"

# Package Selection
[[subcommand.options]]
name = "package"
type = "string"
description = "Package to run tests for (see `cargo help pkgid`)"

[[subcommand.options]]
name = "workspace"
type = "boolean"
description = "Test all packages in the workspace"

[[subcommand.options]]
name = "exclude"
type = "array"
description = "Exclude packages from the test (can be specified multiple times)"

[[subcommand.options]]
name = "all"
type = "boolean"
description = "Alias for --workspace (deprecated)"

# Target Selection
[[subcommand.options]]
name = "lib"
type = "boolean"
description = "Test only this package's library"

[[subcommand.options]]
name = "bins"
type = "boolean"
description = "Test all binaries"

[[subcommand.options]]
name = "bin"
type = "string"
description = "Test only the specified binary"

[[subcommand.options]]
name = "examples"
type = "boolean"
description = "Test all examples"

[[subcommand.options]]
name = "example"
type = "string"
description = "Test only the specified example"

[[subcommand.options]]
name = "tests"
type = "boolean"
description = "Test all targets that have `test = true` set"

[[subcommand.options]]
name = "test"
type = "string"
description = "Test only the specified test target"

[[subcommand.options]]
name = "benches"
type = "boolean"
description = "Test all targets that have `bench = true` set"

[[subcommand.options]]
name = "bench"
type = "string"
description = "Test only the specified bench target"

[[subcommand.options]]
name = "all-targets"
type = "boolean"
description = "Test all targets (does not include doctests)"

[[subcommand.options]]
name = "doc"
type = "boolean"
description = "Test only this library's documentation"

# Feature Selection
[[subcommand.options]]
name = "features"
type = "string"
description = "Space or comma separated list of features to activate"

[[subcommand.options]]
name = "all-features"
type = "boolean"
description = "Activate all available features"

[[subcommand.options]]
name = "no-default-features"
type = "boolean"
description = "Do not activate the `default` feature"

# Compilation Options
[[subcommand.options]]
name = "jobs"
type = "integer"
description = "Number of parallel jobs, defaults to # of CPUs (-j, --jobs <N>)"

[[subcommand.options]]
name = "release"
type = "boolean"
description = "Build artifacts in release mode, with optimizations"

[[subcommand.options]]
name = "profile"
type = "string"
description = "Build artifacts with the specified profile"

[[subcommand.options]]
name = "target"
type = "string"
description = "Build for the target triple (can be specified multiple times)"

[[subcommand.options]]
name = "target-dir"
type = "string"
description = "Directory for all generated artifacts"

[[subcommand.options]]
name = "unit-graph"
type = "boolean"
description = "Output build graph in JSON (unstable)"

[[subcommand.options]]
name = "timings"
type = "string"
description = "Timing output formats (unstable) (comma separated): html, json"

# Manifest Options
[[subcommand.options]]
name = "manifest-path"
type = "string"
description = "Path to Cargo.toml"

[[subcommand.options]]
name = "lockfile-path"
type = "string"
description = "Path to Cargo.lock (unstable)"

[[subcommand.options]]
name = "ignore-rust-version"
type = "boolean"
description = "Ignore `rust-version` specification in packages"

[[subcommand.options]]
name = "locked"
type = "boolean"
description = "Assert that `Cargo.lock` will remain unchanged"

[[subcommand.options]]
name = "offline"
type = "boolean"
description = "Run without accessing the network"

[[subcommand.options]]
name = "frozen"
type = "boolean"
description = "Equivalent to specifying both --locked and --offline"

# Build project (async by default)
[[subcommand]]
name = "build"
description = """Compile the current package.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""

[[subcommand.options]]
name = "future-incompat-report"
type = "boolean"
description = "Outputs a future incompatibility report at the end of the build"

[[subcommand.options]]
name = "message-format"
type = "string"
description = "Error format [possible values: human, short, json, json-diagnostic-short, json-diagnostic-rendered-ansi, json-render-diagnostics]"

[[subcommand.options]]
name = "verbose"
type = "integer"
description = "Use verbose output (-vv very verbose/build.rs output)"

[[subcommand.options]]
name = "quiet"
type = "boolean"
description = "Do not print cargo log messages"

[[subcommand.options]]
name = "color"
type = "string"
description = "Coloring [possible values: auto, always, never]"

[[subcommand.options]]
name = "config"
type = "string"
description = "Override a configuration value (KEY=VALUE or PATH)"

[[subcommand.options]]
name = "unstable"
type = "string"
description = "Unstable (nightly-only) flags to Cargo (use 'cargo -Z help' for details)"

# Package selection
[[subcommand.options]]
name = "package"
type = "string"
description = "Package to build (see `cargo help pkgid`)"

[[subcommand.options]]
name = "workspace"
type = "boolean"
description = "Build all packages in the workspace"

[[subcommand.options]]
name = "exclude"
type = "array"
description = "Exclude packages from the build (can be specified multiple times)"

[[subcommand.options]]
name = "all"
type = "boolean"
description = "Alias for --workspace (deprecated)"

# Target selection
[[subcommand.options]]
name = "lib"
type = "boolean"
description = "Build only this package's library"

[[subcommand.options]]
name = "bins"
type = "boolean"
description = "Build all binaries"

[[subcommand.options]]
name = "bin"
type = "string"
description = "Build only the specified binary"

[[subcommand.options]]
name = "examples"
type = "boolean"
description = "Build all examples"

[[subcommand.options]]
name = "example"
type = "string"
description = "Build only the specified example"

[[subcommand.options]]
name = "tests"
type = "boolean"
description = "Build all targets that have `test = true` set"

[[subcommand.options]]
name = "test"
type = "string"
description = "Build only the specified test target"

[[subcommand.options]]
name = "benches"
type = "boolean"
description = "Build all targets that have `bench = true` set"

[[subcommand.options]]
name = "bench"
type = "string"
description = "Build only the specified bench target"

[[subcommand.options]]
name = "all-targets"
type = "boolean"
description = "Build all targets"

# Feature selection
[[subcommand.options]]
name = "features"
type = "string"
description = "Space or comma separated list of features to activate"

[[subcommand.options]]
name = "all-features"
type = "boolean"
description = "Activate all available features"

[[subcommand.options]]
name = "no-default-features"
type = "boolean"
description = "Do not activate the `default` feature"

# Compilation options
[[subcommand.options]]
name = "release"
type = "boolean"
description = "Build artifacts in release mode, with optimizations"

[[subcommand.options]]
name = "profile"
type = "string"
description = "Build artifacts with the specified profile"

[[subcommand.options]]
name = "jobs"
type = "integer"
description = "Number of parallel jobs, defaults to # of CPUs (-j, --jobs <N>)"

[[subcommand.options]]
name = "keep-going"
type = "boolean"
description = "Do not abort the build as soon as there is an error"

[[subcommand.options]]
name = "target"
type = "string"
description = "Build for the target triple (can be specified multiple times)"

[[subcommand.options]]
name = "target-dir"
type = "string"
description = "Directory for all generated artifacts"

[[subcommand.options]]
name = "artifact-dir"
type = "string"
description = "Copy final artifacts to this directory (unstable)"

[[subcommand.options]]
name = "build-plan"
type = "boolean"
description = "Output the build plan in JSON (unstable)"

[[subcommand.options]]
name = "unit-graph"
type = "boolean"
description = "Output build graph in JSON (unstable)"

[[subcommand.options]]
name = "timings"
type = "string"
description = "Timing output formats (unstable) (comma separated): html, json"

# Manifest options
[[subcommand.options]]
name = "manifest-path"
type = "string"
description = "Path to Cargo.toml"

[[subcommand.options]]
name = "lockfile-path"
type = "string"
description = "Path to Cargo.lock (unstable)"

[[subcommand.options]]
name = "ignore-rust-version"
type = "boolean"
description = "Ignore `rust-version` specification in packages"

[[subcommand.options]]
name = "locked"
type = "boolean"
description = "Assert that `Cargo.lock` will remain unchanged"

[[subcommand.options]]
name = "offline"
type = "boolean"
description = "Run without accessing the network"

[[subcommand.options]]
name = "frozen"
type = "boolean"
description = "Equivalent to specifying both --locked and --offline"

[[subcommand]]
name = "test"
description = """Run the test suite.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""

[[subcommand.options]]
name = "testname"
type = "string"
description = "If specified, only run tests containing this string in their names (positional argument)"

[[subcommand.options]]
name = "args"
type = "array"
description = "Arguments for the test binary (use after '--')"

[[subcommand.options]]
name = "no-run"
type = "boolean"
description = "Compile, but don't run tests"

[[subcommand.options]]
name = "no-fail-fast"
type = "boolean"
description = "Run all tests regardless of failure"

[[subcommand.options]]
name = "future-incompat-report"
type = "boolean"
description = "Outputs a future incompatibility report at the end of the build"

[[subcommand.options]]
name = "message-format"
type = "string"
description = "Error format [possible values: human, short, json, json-diagnostic-short, json-diagnostic-rendered-ansi, json-render-diagnostics]"

[[subcommand.options]]
name = "quiet"
type = "boolean"
description = "Display one character per test instead of one line"

[[subcommand.options]]
name = "verbose"
type = "integer"
description = "Use verbose output (-vv very verbose/build.rs output)"

[[subcommand.options]]
name = "color"
type = "string"
description = "Coloring [possible values: auto, always, never]"

[[subcommand.options]]
name = "config"
type = "string"
description = "Override a configuration value (KEY=VALUE or PATH)"

[[subcommand.options]]
name = "unstable"
type = "string"
description = "Unstable (nightly-only) flags to Cargo, see 'cargo -Z help' for details"

# Package Selection
[[subcommand.options]]
name = "package"
type = "string"
description = "Package to run tests for (see `cargo help pkgid`)"

[[subcommand.options]]
name = "workspace"
type = "boolean"
description = "Test all packages in the workspace"

[[subcommand.options]]
name = "exclude"
type = "array"
description = "Exclude packages from the test (can be specified multiple times)"

[[subcommand.options]]
name = "all"
type = "boolean"
description = "Alias for --workspace (deprecated)"

# Target Selection
[[subcommand.options]]
name = "lib"
type = "boolean"
description = "Test only this package's library"

[[subcommand.options]]
name = "bins"
type = "boolean"
description = "Test all binaries"

[[subcommand.options]]
name = "bin"
type = "string"
description = "Test only the specified binary"

[[subcommand.options]]
name = "examples"
type = "boolean"
description = "Test all examples"

[[subcommand.options]]
name = "example"
type = "string"
description = "Test only the specified example"

[[subcommand.options]]
name = "tests"
type = "boolean"
description = "Test all targets that have `test = true` set"

[[subcommand.options]]
name = "test"
type = "string"
description = "Test only the specified test target"

[[subcommand.options]]
name = "benches"
type = "boolean"
description = "Test all targets that have `bench = true` set"

[[subcommand.options]]
name = "bench"
type = "string"
description = "Test only the specified bench target"

[[subcommand.options]]
name = "all-targets"
type = "boolean"
description = "Test all targets (does not include doctests)"

[[subcommand.options]]
name = "doc"
type = "boolean"
description = "Test only this library's documentation"

# Feature Selection
[[subcommand.options]]
name = "features"
type = "string"
description = "Space or comma separated list of features to activate"

[[subcommand.options]]
name = "all-features"
type = "boolean"
description = "Activate all available features"

[[subcommand.options]]
name = "no-default-features"
type = "boolean"
description = "Do not activate the `default` feature"

# Compilation Options
[[subcommand.options]]
name = "jobs"
type = "integer"
description = "Number of parallel jobs, defaults to # of CPUs (-j, --jobs <N>)"

[[subcommand.options]]
name = "release"
type = "boolean"
description = "Build artifacts in release mode, with optimizations"

[[subcommand.options]]
name = "profile"
type = "string"
description = "Build artifacts with the specified profile"

[[subcommand.options]]
name = "target"
type = "string"
description = "Build for the target triple (can be specified multiple times)"

[[subcommand.options]]
name = "target-dir"
type = "string"
description = "Directory for all generated artifacts"

[[subcommand.options]]
name = "unit-graph"
type = "boolean"
description = "Output build graph in JSON (unstable)"

[[subcommand.options]]
name = "timings"
type = "string"
description = "Timing output formats (unstable) (comma separated): html, json"

# Manifest Options
[[subcommand.options]]
name = "manifest-path"
type = "string"
description = "Path to Cargo.toml"

[[subcommand.options]]
name = "lockfile-path"
type = "string"
description = "Path to Cargo.lock (unstable)"

[[subcommand.options]]
name = "ignore-rust-version"
type = "boolean"
description = "Ignore `rust-version` specification in packages"

[[subcommand.options]]
name = "locked"
type = "boolean"
description = "Assert that `Cargo.lock` will remain unchanged"

[[subcommand.options]]
name = "offline"
type = "boolean"
description = "Run without accessing the network"

[[subcommand.options]]
name = "frozen"
type = "boolean"
description = "Equivalent to specifying both --locked and --offline"

[[subcommand]]
name = "check"
synchronous = true
description = """Check code without building.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""

[[subcommand.options]]
name = "release"
type = "boolean"
description = "Check with release profile"
[[subcommand.options]]
name = "workspace"
type = "boolean"
description = "Check all packages in workspace"

[[subcommand]]
name = "clippy"
description = """Enhanced linting and code quality checks.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""

[[subcommand.options]]
name = "fix"
type = "boolean"
description = "Automatically fix warnings"
[[subcommand.options]]
name = "allow-dirty"
type = "boolean"
description = "Allow fixing when working directory is dirty"

[[subcommand]]
name = "fmt"
synchronous = true
description = """Format code using rustfmt.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""

[[subcommand.options]]
name = "check"
type = "boolean"
description = "Check if files are formatted without changing them"

[[subcommand]]
name = "run"
description = "Run the project"
[[subcommand.options]]
name = "release"
type = "boolean"
description = "Run with optimizations"
[[subcommand.options]]
name = "bin"
type = "string"
description = "Name of the binary to run"

[[subcommand]]
name = "doc"
description = "Generate documentation"
[[subcommand.options]]
name = "no-deps"
type = "boolean"
description = "Don't build documentation for dependencies"
[[subcommand.options]]
name = "open"
type = "boolean"
description = "Open documentation in browser"

[[subcommand]]
name = "clean"
synchronous = true
description = "Remove build artifacts"

[[subcommand]]
name = "add"
synchronous = true
description = "Add a dependency to Cargo.toml (requires cargo-edit)"
[[subcommand.options]]
name = "package"
type = "string"
description = "Package name (and optional version) to add, e.g. serde@1.0"

[[subcommand]]
name = "remove"
synchronous = true
description = "Remove a dependency from Cargo.toml (requires cargo-edit)"
[[subcommand.options]]
name = "package"
type = "string"
description = "Package name to remove"

[[subcommand]]
name = "update"
synchronous = true
description = "Update dependencies in Cargo.lock to latest compatible versions"
[[subcommand.options]]
name = "package"
type = "string"
description = "Optional specific package to update"

[[subcommand]]
name = "fetch"
synchronous = true
description = "Download dependencies without building"

[[subcommand]]
name = "install"
description = "Install a Rust binary via cargo"
[[subcommand.options]]
name = "package"
type = "string"
description = "Package/binary to install"

[[subcommand]]
name = "search"
synchronous = true
description = "Search for packages on crates.io"
[[subcommand.options]]
name = "query"
type = "string"
description = "Search query"

[[subcommand]]
name = "tree"
synchronous = true
description = "Display dependency tree - returns immediately."

[[subcommand]]
name = "version"
synchronous = true
description = "Show cargo version information - returns immediately."

[[subcommand]]
name = "metadata"
synchronous = true
description = "Output the resolved dependencies and package metadata as JSON - returns immediately."

[[subcommand.options]]
name = "filter-platform"
type = "string"
description = "Only include resolve dependencies matching the given target-triple"

[[subcommand.options]]
name = "no-deps"
type = "boolean"
description = "Output information only about the workspace members and don't fetch dependencies"

[[subcommand.options]]
name = "format-version"
type = "string"
description = "Format version [possible values: 1]"

[[subcommand.options]]
name = "verbose"
type = "integer"
description = "Use verbose output (-vv very verbose/build.rs output)"

[[subcommand.options]]
name = "quiet"
type = "boolean"
description = "Do not print cargo log messages"

[[subcommand.options]]
name = "color"
type = "string"
description = "Coloring [possible values: auto, always, never]"

[[subcommand.options]]
name = "config"
type = "string"
description = "Override a configuration value (KEY=VALUE or PATH)"

[[subcommand.options]]
name = "unstable"
type = "string"
description = "Unstable (nightly-only) flags to Cargo (use 'cargo -Z help' for details)"

[[subcommand.options]]
name = "features"
type = "string"
description = "Space or comma separated list of features to activate"

[[subcommand.options]]
name = "all-features"
type = "boolean"
description = "Activate all available features"

[[subcommand.options]]
name = "no-default-features"
type = "boolean"
description = "Do not activate the `default` feature"

[[subcommand.options]]
name = "manifest-path"
type = "string"
description = "Path to Cargo.toml"

[[subcommand.options]]
name = "lockfile-path"
type = "string"
description = "Path to Cargo.lock (unstable)"

[[subcommand.options]]
name = "locked"
type = "boolean"
description = "Assert that Cargo.lock will remain unchanged"

[[subcommand.options]]
name = "offline"
type = "boolean"
description = "Run without accessing the network"

[[subcommand.options]]
name = "frozen"
type = "boolean"
description = "Equivalent to specifying both --locked and --offline"

[[subcommand]]
name = "nextest"
description = "Run tests with cargo-nextest (if installed)"

[[subcommand.options]]
name = "verbose"
type = "boolean"
description = "Verbose output [env: NEXTEST_VERBOSE=]"

[[subcommand.options]]
name = "color"
type = "string"
description = "Produce color output: auto, always, never [env: CARGO_TERM_COLOR=] [default: auto]"

[[subcommand.options]]
name = "manifest-path"
type = "string"
description = "Path to Cargo.toml"

[[subcommand.options]]
name = "config-file"
type = "string"
description = "Config file [default: workspace-root/.config/nextest.toml]"

[[subcommand.options]]
name = "tool-config-file"
type = "string"
description = "Tool-specific config files in the format 'tool:abs_path'. May be specified multiple times; later files are lower priority."

[[subcommand.options]]
name = "override-version-check"
type = "boolean"
description = "Override checks for the minimum version defined in nextest's config"

[[subcommand.options]]
name = "profile"
type = "string"
description = "The nextest profile to use [env: NEXTEST_PROFILE=]"
[[subcommand.options]]
name = "workspace"
type = "boolean"
description = "Run tests for all packages in workspace"

[[subcommand]]
name = "audit"
description = "Run security vulnerability scanning (if cargo-audit installed). Commands: bin (scan compiled binaries), help (print audit help)."

[[subcommand.options]]
name = "color"
type = "string"
description = "color configuration (default: auto) [possible values: always, auto, never]"

[[subcommand.options]]
name = "db"
type = "string"
description = "advisory database git repo path (default: ~/.cargo/advisory-db)"

[[subcommand.options]]
name = "deny"
type = "string"
description = "exit with an error on: warnings (any), unmaintained, unsound, yanked"

[[subcommand.options]]
name = "file"
type = "string"
description = "Cargo lockfile to inspect (or '-' for STDIN, default: Cargo.lock)"

[[subcommand.options]]
name = "ignore"
type = "array"
description = "Advisory id(s) to ignore (can be specified multiple times)"

[[subcommand.options]]
name = "ignore-source"
type = "boolean"
description = "Ignore sources of packages in Cargo.toml, matching advisories regardless of source"

[[subcommand.options]]
name = "no-fetch"
type = "boolean"
description = "Do not perform a git fetch on the advisory DB"

[[subcommand.options]]
name = "stale"
type = "boolean"
description = "Allow stale advisory database"

[[subcommand.options]]
name = "target-arch"
type = "array"
description = "Filter vulnerabilities by CPU architecture (can be specified multiple times)"

[[subcommand.options]]
name = "target-os"
type = "array"
description = "Filter vulnerabilities by OS (can be specified multiple times)"

[[subcommand.options]]
name = "url"
type = "string"
description = "URL for advisory database git repo"

[[subcommand.options]]
name = "quiet"
type = "boolean"
description = "Avoid printing unnecessary information"

[[subcommand.options]]
name = "json"
type = "boolean"
description = "Output report in JSON format"

[[subcommand]]
name = "upgrade"
description = "Upgrade dependency versions in Cargo.toml (requires cargo-edit)"
[[subcommand.options]]
name = "yes"
type = "boolean"
description = "Automatically apply upgrades"

[[subcommand]]
name = "bump_version"
description = "Bump package version (requires cargo-edit or custom script)"
[[subcommand.options]]
name = "bump_type"
type = "string"
description = "patch, minor, or major"
[[subcommand.options]]
name = "dry_run"
type = "boolean"
description = "Show changes without modifying files"

[[subcommand]]
name = "bench"
description = """Run benchmarks.

**IMPORTANT:** This tool operates asynchronously.
1. **Immediate Response:** Returns operation_id and status 'started'. NOT success.
2. **Final Result:** Result pushed automatically via MCP notification when complete.

**Your Instructions:**
- **DO NOT** wait for the final result.
- **DO** continue with other tasks that don't depend on this operation.
- You **MUST** process the future result notification to know if operation succeeded."""
 
[[subcommand.options]]
name = "benchname"
type = "string"
description = "If specified, only run benches containing this string in their names (positional argument)"

[[subcommand.options]]
name = "args"
type = "array"
description = "Arguments passed to the bench binary (use after '--')"

[[subcommand.options]]
name = "no-run"
type = "boolean"
description = "Compile, but don't run benchmarks"

[[subcommand.options]]
name = "no-fail-fast"
type = "boolean"
description = "Run all benchmarks regardless of failure"

[[subcommand.options]]
name = "message-format"
type = "string"
description = "Error format [possible values: human, short, json, json-diagnostic-short, json-diagnostic-rendered-ansi, json-render-diagnostics]"

[[subcommand.options]]
name = "verbose"
type = "integer"
description = "Use verbose output (-vv very verbose/build.rs output)"

[[subcommand.options]]
name = "quiet"
type = "boolean"
description = "Do not print cargo log messages"

[[subcommand.options]]
name = "color"
type = "string"
description = "Coloring [possible values: auto, always, never]"

[[subcommand.options]]
name = "config"
type = "string"
description = "Override a configuration value (KEY=VALUE or PATH)"

[[subcommand.options]]
name = "unstable"
type = "string"
description = "Unstable (nightly-only) flags to Cargo (use 'cargo -Z help' for details)"

[[subcommand.options]]
name = "package"
type = "string"
description = "Package to run benchmarks for (-p, --package [<SPEC>])"

[[subcommand.options]]
name = "workspace"
type = "boolean"
description = "Benchmark all packages in the workspace"

[[subcommand.options]]
name = "exclude"
type = "array"
description = "Exclude packages from the benchmark (can be specified multiple times)"

[[subcommand.options]]
name = "all"
type = "boolean"
description = "Alias for --workspace (deprecated)"

[[subcommand.options]]
name = "lib"
type = "boolean"
description = "Benchmark only this package's library"

[[subcommand.options]]
name = "bins"
type = "boolean"
description = "Benchmark all binaries"

[[subcommand.options]]
name = "bin"
type = "string"
description = "Benchmark only the specified binary"

[[subcommand.options]]
name = "examples"
type = "boolean"
description = "Benchmark all examples"

[[subcommand.options]]
name = "example"
type = "string"
description = "Benchmark only the specified example"

[[subcommand.options]]
name = "tests"
type = "boolean"
description = "Benchmark all targets that have `test = true` set"

[[subcommand.options]]
name = "test"
type = "string"
description = "Benchmark only the specified test target"

[[subcommand.options]]
name = "benches"
type = "boolean"
description = "Benchmark all targets that have `bench = true` set"

[[subcommand.options]]
name = "bench-target"
type = "string"
description = "Benchmark only the specified bench target (--bench <NAME>)"

[[subcommand.options]]
name = "all-targets"
type = "boolean"
description = "Benchmark all targets"

[[subcommand.options]]
name = "features"
type = "string"
description = "Space or comma separated list of features to activate"

[[subcommand.options]]
name = "all-features"
type = "boolean"
description = "Activate all available features"

[[subcommand.options]]
name = "no-default-features"
type = "boolean"
description = "Do not activate the `default` feature"

[[subcommand.options]]
name = "jobs"
type = "integer"
description = "Number of parallel jobs, defaults to # of CPUs (-j, --jobs <N>)"

[[subcommand.options]]
name = "profile"
type = "string"
description = "Build artifacts with the specified profile"

[[subcommand.options]]
name = "target"
type = "string"
description = "Build for the target triple"

[[subcommand.options]]
name = "target-dir"
type = "string"
description = "Directory for all generated artifacts"

[[subcommand.options]]
name = "unit-graph"
type = "boolean"
description = "Output build graph in JSON (unstable)"

[[subcommand.options]]
name = "timings"
type = "string"
description = "Timing output formats (unstable) (comma separated): html, json"

[[subcommand.options]]
name = "manifest-path"
type = "string"
description = "Path to Cargo.toml"

[[subcommand.options]]
name = "lockfile-path"
type = "string"
description = "Path to Cargo.lock (unstable)"

[[subcommand.options]]
name = "ignore-rust-version"
type = "boolean"
description = "Ignore `rust-version` specification in packages"

[[subcommand.options]]
name = "locked"
type = "boolean"
description = "Assert that `Cargo.lock` will remain unchanged"

[[subcommand.options]]
name = "offline"
type = "boolean"
description = "Run without accessing the network"

[[subcommand.options]]
name = "frozen"
type = "boolean"
description = "Equivalent to specifying both --locked and --offline"
