# Test Quality Audit Report

**Generated:** 2025-09-02 15:39:37
**Workspace:** /Users/paul/github/ahma_mcp
**Git Branch:** feature/refinement
**Git Commit:** 79e3bb8

## Executive Summary

## Test Count Analysis

### Tests per Crate
```
```

**Total Tests:** 0

## Test Performance Analysis

### Execution Time
```
Skipping performance run (nextest or timeout not available)
```

## Coverage Analysis

### Overall Coverage
```
info: cargo-llvm-cov currently setting cfg(coverage); you can opt-out it by passing --no-cfg-coverage
   Compiling proc-macro2 v1.0.101
   Compiling unicode-ident v1.0.18
   Compiling libc v0.2.175
   Compiling memchr v2.7.5
   Compiling pin-project-lite v0.2.16
   Compiling serde v1.0.219
   Compiling futures-core v0.3.31
   Compiling cfg-if v1.0.3
   Compiling once_cell v1.21.3
   Compiling futures-sink v0.3.31
   Compiling strsim v0.11.1
   Compiling autocfg v1.5.0
   Compiling tracing-core v0.1.34
   Compiling futures-channel v0.3.31
   Compiling ryu v1.0.20
   Compiling num-traits v0.2.19
   Compiling ident_case v1.0.1
   Compiling futures-io v0.3.31
   Compiling bitflags v2.9.4
   Compiling futures-task v0.3.31
   Compiling slab v0.4.11
   Compiling regex-syntax v0.8.6
   Compiling fnv v1.0.7
   Compiling cfg_aliases v0.2.1
   Compiling aho-corasick v1.1.3
   Compiling bytes v1.10.1
   Compiling pin-utils v0.1.0
   Compiling itoa v1.0.15
   Compiling nix v0.30.1
   Compiling utf8parse v0.2.2
   Compiling crossbeam-utils v0.8.21
   Compiling core-foundation-sys v0.8.7
   Compiling ref-cast v1.0.24
   Compiling serde_json v1.0.143
   Compiling quote v1.0.40
   Compiling signal-hook-registry v1.4.6
   Compiling syn v2.0.106
   Compiling mio v1.0.4
   Compiling iana-time-zone v0.1.63
   Compiling anstyle-parse v0.2.7
   Compiling powerfmt v0.2.0
   Compiling thiserror v1.0.69
   Compiling paste v1.0.15
   Compiling hashbrown v0.15.5
   Compiling lazy_static v1.5.0
   Compiling equivalent v1.0.2
   Compiling thiserror v2.0.16
   Compiling regex-automata v0.4.10
   Compiling anstyle-query v1.1.4
   Compiling colorchoice v1.0.4
   Compiling log v0.4.27
   Compiling anstyle v1.0.11
   Compiling is_terminal_polyfill v1.70.1
   Compiling tracing-log v0.2.0
   Compiling anstream v0.6.20
   Compiling sharded-slab v0.1.7
   Compiling indexmap v2.11.0
   Compiling deranged v0.5.3
   Compiling thread_local v1.1.9
   Compiling smallvec v1.15.1
   Compiling nu-ansi-term v0.50.1
   Compiling option-ext v0.2.0
   Compiling clap_lex v0.7.5
   Compiling time-core v0.1.5
   Compiling anyhow v1.0.99
   Compiling winnow v0.7.13
   Compiling heck v0.5.0
   Compiling dyn-clone v1.0.20
   Compiling num-conv v0.1.0
   Compiling clap_builder v4.5.46
   Compiling time v0.3.42
   Compiling dirs-sys v0.5.0
   Compiling crossbeam-channel v0.5.15
   Compiling base64 v0.22.1
   Compiling toml_writer v1.0.2
   Compiling rustix v1.0.8
   Compiling getrandom v0.3.3
   Compiling directories v6.0.0
   Compiling toml_parser v1.0.2
   Compiling errno v0.3.13
   Compiling serde_derive v1.0.219
   Compiling tracing-attributes v0.1.30
   Compiling futures-macro v0.3.31
   Compiling tokio-macros v2.5.0
   Compiling darling_core v0.21.3
   Compiling ref-cast-impl v1.0.24
   Compiling tokio v1.47.1
   Compiling futures-util v0.3.31
   Compiling tracing v0.1.41
   Compiling serde_derive_internals v0.29.1
   Compiling matchers v0.2.0
   Compiling thiserror-impl v1.0.69
   Compiling thiserror-impl v2.0.16
   Compiling tracing-subscriber v0.3.20
   Compiling schemars_derive v1.0.4
   Compiling clap_derive v4.5.45
   Compiling regex v1.11.2
   Compiling darling_macro v0.21.3
   Compiling async-trait v0.1.89
   Compiling darling v0.21.3
   Compiling rmcp-macros v0.6.1
   Compiling futures-executor v0.3.31
   Compiling tracing-appender v0.2.3
   Compiling fastrand v2.3.0
   Compiling clap v4.5.46
   Compiling futures v0.3.31
   Compiling tempfile v3.21.0
   Compiling chrono v0.4.41
   Compiling serde_spanned v1.0.0
   Compiling toml_datetime v0.7.0
   Compiling tokio-util v0.7.16
   Compiling tokio-stream v0.1.17
   Compiling process-wrap v8.2.1
   Compiling toml v0.9.5
   Compiling schemars v1.0.4
   Compiling rmcp v0.6.1
   Compiling ahma_mcp v0.2.0 (/Users/paul/github/ahma_mcp)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 28.36s
────────────
 Nextest run ID caf4e3c1-3737-4105-8745-6dbe5b030908 with nextest profile: default
    Starting 80 tests across 24 binaries
        PASS [   0.018s] ahma_mcp constants::tests::templates_include_placeholders
        PASS [   0.019s] ahma_mcp operation_monitor::tests::test_wait_for_nonexistent_operation
        PASS [   0.019s] ahma_mcp operation_monitor::tests::test_wait_for_fast_completion_race_condition
        PASS [   0.019s] ahma_mcp callback_system::tests::test_no_op_callback
        PASS [   0.019s] ahma_mcp shell_pool::tests::test_shell_command_serialization
        PASS [   0.019s] ahma_mcp constants::tests::async_addendum_contains_key_guidance
        PASS [   0.020s] ahma_mcp callback_system::tests::test_channel_callback
        PASS [   0.021s] ahma_mcp callback_system::tests::test_cancellation
        PASS [   0.013s] ahma_mcp test::test_utils::tests::includes_debug_escaped_newlines
        PASS [   0.014s] ahma_mcp terminal_output::tests::test_format_content
        PASS [   0.015s] ahma_mcp shell_pool::tests::test_shell_pool_creation
        PASS [   0.015s] ahma_mcp shell_pool::tests::test_shell_pool_manager_disabled
        PASS [   0.016s] ahma_mcp terminal_output::tests::test_should_display
        PASS [   0.015s] ahma_mcp test::test_utils::tests::includes_absent_pattern_false
        PASS [   0.019s] ahma_mcp shell_pool::tests::test_shell_pool_config_defaults
        PASS [   0.017s] ahma_mcp test::test_utils::tests::includes_direct_substring
        PASS [   0.014s] ahma_mcp test::test_utils::tests::includes_quotes_and_backslashes
        PASS [   0.015s] ahma_mcp test::test_utils::tests::includes_is_case_sensitive
        PASS [   0.015s] ahma_mcp test::test_utils::tests::includes_whitespace_normalized
        PASS [   0.016s] ahma_mcp tool_hints::tests::preview_replaces_placeholders
        PASS [   0.015s] ahma_mcp utils::timestamp::tests::test_duration_zero
        PASS [   0.013s] ahma_mcp utils::timestamp::tests::test_format_current_time_is_valid_format
        PASS [   0.012s] ahma_mcp utils::timestamp::tests::test_format_time_end_of_day
        PASS [   0.012s] ahma_mcp utils::timestamp::tests::test_format_time_basic
        PASS [   0.012s] ahma_mcp utils::timestamp::tests::test_format_time_midnight
        PASS [   0.011s] ahma_mcp::continuous_update_test continuous_update_test::test_continuous_updates_dont_duplicate_history
        PASS [   0.013s] ahma_mcp::continuous_update_test continuous_update_test::test_continuous_add_operations
        PASS [   0.013s] ahma_mcp::config_loading_test config_tests::test_config_loading
        PASS [   0.008s] ahma_mcp::development_workflow_invariants_test test_graceful_shutdown_timing_invariant
        PASS [   0.009s] ahma_mcp::development_workflow_invariants_test test_error_remediation_patterns_invariant
        PASS [   0.010s] ahma_mcp::development_workflow_invariants_test documentation_requirements::test_required_documentation_exists
        PASS [   0.007s] ahma_mcp::development_workflow_invariants_test test_json_tool_configuration_count_invariant
        PASS [   0.007s] ahma_mcp::development_workflow_invariants_test test_signal_handling_requirements_invariant
        PASS [   0.008s] ahma_mcp::development_workflow_invariants_test test_progressive_warning_percentages_invariant
        PASS [   0.010s] ahma_mcp::development_workflow_invariants_test test_wait_timeout_bounds_invariant
        PASS [   0.010s] ahma_mcp::endless_notification_fix_test endless_notification_test::test_multiple_operations_tracked_in_history
        PASS [   0.010s] ahma_mcp::endless_notification_fix_test endless_notification_test::test_completed_operations_are_persistent_in_history
        PASS [   0.011s] ahma_mcp::endless_notification_fix_test endless_notification_test::test_notification_loop_simulation
        PASS [   0.120s] ahma_mcp::async_notification_debug async_notification_test::test_operation_completion_tracking
        PASS [   0.515s] ahma_mcp utils::timestamp::tests::test_duration_since_as_rounded_seconds
        PASS [   1.121s] ahma_mcp utils::timestamp::tests::test_duration_as_rounded_seconds
        PASS [  24.883s] ahma_mcp::freeform_args_test test_freeform_argument_passing_ls
        PASS [  25.977s] ahma_mcp::enhanced_wait_tool_test test_wait_tool_timeout_functionality
        PASS [  25.977s] ahma_mcp::enhanced_wait_tool_test test_status_tool_functionality
        PASS [  25.959s] ahma_mcp::enhanced_wait_tool_test test_wait_tool_timeout_validation
        PASS [  25.909s] ahma_mcp::enhanced_wait_tool_test test_wait_tool_with_tool_filter
        PASS [   0.018s] ahma_mcp::graceful_shutdown_test test_graceful_shutdown_infrastructure
        PASS [   0.016s] ahma_mcp::graceful_shutdown_test test_wait_tool_timeout_scenarios
        PASS [   0.016s] ahma_mcp::graceful_shutdown_test test_lock_file_remediation_suggestions
        PASS [   0.139s] ahma_mcp::full_system_integration_bug_test full_system_integration_bug_test::test_full_system_integration_single_notification
        PASS [   0.121s] ahma_mcp::full_system_integration_bug_test full_system_integration_bug_test::test_multiple_operations_system_integration
        PASS [  25.747s] ahma_mcp::freeform_args_test test_freeform_argument_passing_clippy
        PASS [   0.892s] ahma_mcp::ls_tool_command_construction_test test_ls_tool_should_not_add_undefined_path_parameter
        PASS [   0.904s] ahma_mcp::ls_tool_command_construction_test test_ls_tool_executes_plain_ls_command
        PASS [   0.016s] ahma_mcp::mcp_server_reproduction_test mcp_server_reproduction_test::test_persistent_completion_history_behavior
        PASS [   0.018s] ahma_mcp::operation_id_reuse_bug_test operation_id_reuse_bug_test::test_duplicate_operation_id_scenario
        PASS [   0.016s] ahma_mcp::operation_id_reuse_bug_test operation_id_reuse_bug_test::test_multiple_add_operation_calls
        PASS [   0.015s] ahma_mcp::operation_id_reuse_bug_test operation_id_reuse_bug_test::test_production_like_sequence
        PASS [   0.014s] ahma_mcp::operation_id_reuse_bug_test operation_id_reuse_bug_test::test_status_transition_edge_cases
        PASS [   0.016s] ahma_mcp::race_condition_bug_test race_condition_bug_test::test_concurrent_completion_and_notification_simulation
        PASS [   0.016s] ahma_mcp::race_condition_bug_test race_condition_bug_test::test_multiple_notification_loops
        PASS [   0.019s] ahma_mcp::race_condition_bug_test race_condition_bug_test::test_race_condition_between_completion_and_clearing
        PASS [   0.015s] ahma_mcp::race_condition_bug_test race_condition_bug_test::test_update_status_after_clear_race_condition
        PASS [   0.877s] ahma_mcp::mcp_integration_tests test_list_tools
        PASS [   1.077s] ahma_mcp::json_tool_test test_json_tool_definition_loading
        PASS [   0.170s] ahma_mcp::realistic_endless_notification_test realistic_endless_notification_test::test_multiple_operations_notification_behavior
        PASS [   0.169s] ahma_mcp::realistic_endless_notification_test realistic_endless_notification_test::test_realistic_notification_scenario_with_history
        PASS [   1.112s] ahma_mcp::ls_tool_command_construction_test test_ls_tool_with_valid_options
        PASS [   1.088s] ahma_mcp::mcp_integration_tests test_call_tool_basic
        PASS [  29.024s] ahma_mcp::clippy_test test_run_clippy_with_tests
        PASS [  29.024s] ahma_mcp::clippy_test test_run_clippy
        PASS [   0.016s] ahma_mcp::vscode_mcp_config_test test_vscode_mcp_config_has_valid_command_structure
        PASS [   0.012s] ahma_mcp::vscode_mcp_config_test test_vscode_mcp_config_watches_json_files
        PASS [  38.629s] ahma_mcp::tool_loading_bug_test test_tools_are_loaded_after_json_migration
        PASS [  38.676s] ahma_mcp::tool_behavior_consistency_test test_tool_descriptions_match_actual_behavior
        PASS [  38.670s] ahma_mcp::tool_loading_bug_test test_specific_json_tool_functionality
        PASS [  38.917s] ahma_mcp::tool_behavior_consistency_test test_ls_tool_command_structure
        PASS [  40.610s] ahma_mcp::tool_behavior_consistency_test test_synchronous_cargo_check_returns_actual_results

Coverage generation completed (summary above).
```

